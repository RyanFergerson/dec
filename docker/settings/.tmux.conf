# remap prefix from 'C-b' to 'C-f'
unbind C-b
set-option -g prefix C-f
bind-key C-f send-prefix

# create session
#new session with name
bind-key C-c command-prompt -p "session name:" "new-session; rename-session '%%'"
#bind C-c new-session

# find session
bind C-f command-prompt -p find-session 'switch-client -t %%'

# expect UTF-8 (tmux < 2.2)
set -q -g status-utf8 on
setw -q -g utf8 on


# reload configuration
bind r source-file ~/.tmux.conf \; display '~/.tmux.conf sourced'


bind Enter copy-mode # enter copy mode

# -- display -------------------------------------------------------------------

set -g base-index 1           # start windows numbering at 1
setw -g pane-base-index 1     # make pane numbering consistent with windows

setw -g automatic-rename on   # rename window to reflect current program
set -g renumber-windows on    # renumber windows when a window is closed

set -g set-titles on          # set terminal title

set -g display-panes-time 800 # slightly longer pane indicators display time
set -g display-time 1000      # slightly longer status messages display time

set -g status-interval 10     # redraw status line every 10 seconds

#new window with name
#https://stackoverflow.com/a/25477737
bind-key n command-prompt -p "window name:" "new-window; rename-window '%%'"

# move status line to top
set -g status-position top

#Sort session list
bind s choose-tree -s -O name

#Toggle tmux status line
bind-key T set-option status

# increase history size
set -g history-limit 10000

# start with mouse mode enabled
set -g mouse on

# statusbar
set -g status-position bottom
set -g status-justify centre
set -g status-style 'bg=colour0 fg=white bold'
set -g status-left ' #S '
set -g status-left-style 'bg=colour124 fg=white bold'
set -g status-right ''
set -g status-right-length 0
set -g status-left-length 50

setw -g window-status-current-style "fg=colour255 bg=colour124 bold"
setw -g window-status-current-format ' #I#[fg=colour249]:#[fg=colour255]#W#[fg=colour249]#F '

setw -g window-status-style 'fg=colour124 bg=colour0'
setw -g window-status-format ' #I#[fg=colour237]:#[fg=colour250]#W#[fg=colour244]#F '

setw -g window-status-bell-style 'fg=colour255 bg=colour124 bold'
set -g message-style 'fg=colour255 bg=colour124 bold'

# https://github.com/tmux/tmux/issues/2665#issuecomment-825017707
# server options
set-option -gs default-terminal "xterm-256color"
# FYI: check for true color support using tmux info | ag Tc and verify using true-color-support
# Enable True Color and RGB support
set-option -gas terminal-overrides "*:Tc"
set-option -gas terminal-overrides "*:RGB"
# Enable double/curly underline
set-option -gas terminal-overrides '*:Smulx=\E[4::%p1%dm'
set-option -gas terminal-overrides '*:Setulc=\E[58::2::%p1%{65536}%/%d::%p1%{256}%/%{255}%&%d::%p1%{255}%&%d%;m']']'
